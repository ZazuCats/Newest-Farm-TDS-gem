-- [[ MAP CROSS CHECK ]]
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

local TARGET_MAP = "Crossroads"
local TDS_PLACE_ID = 3260590327

local function waitForRealMap()
    local state = ReplicatedStorage:WaitForChild("State", 30)
    if not state then return nil end

    local mapValue = state:WaitForChild("Map", 30)
    if not mapValue then return nil end

    -- pastikan Value udah ke-set
    while mapValue.Value == "" do
        task.wait(1)
    end

    return mapValue.Value
end

task.spawn(function()
    local mapName = waitForRealMap()

    if mapName ~= TARGET_MAP then
        task.wait(2)
        TeleportService:Teleport(TDS_PLACE_ID, player)
    end
end)
